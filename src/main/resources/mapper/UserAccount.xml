<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.mzd.com.mzd.dao.UserRepository">




    <select id="findByName" resultType="org.mzd.com.mzd.domain.User">

    select
    id,
    login_name ,
    name userName,
    ename userEName,
    avatar ,
    nick_name  nickName,
    sex ,
    mobile ,
    email
     from mzd_user_base_info
    where login_name = #{name}

    </select>


    <select id="findByNameAndPassword" resultType="org.mzd.com.mzd.domain.User">
    select
    id ,
    login_name name,
    name userName,
    ename userEName,
    avatar ,
    nick_name  nickName,
    sex ,
    mobile ,
    email
     from mzd_user_base_info
    where login_name = #{name} and password = #{password}

    </select>

    <insert id="save" parameterType="org.mzd.com.mzd.domain.User">
        INSERT INTO mzd_user_base_info (login_name,name,ename,avatar,nick_name,sex,mobile,email,create_time,modify_time,password)
        VALUES (#{name},#{userName},#{userEName},#{avatar},#{nickName},#{sex},#{mobile},#{email},now(),now(),#{password})
    </insert>

</mapper>